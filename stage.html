<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>stage</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<!-- Date: 2011-03-05 -->
	<style>
	body {
		margin:0;
	}
	</style>
</head>
<body>

<a href="javascript:start();">Start</a>

<script type="text/javascript" charset="utf-8" src="ext-base.js"></script>
<script type="text/javascript" charset="utf-8" src="ext-all.js"></script>
<script type="text/javascript" charset="utf-8" src="lib.js"></script>
<script type="text/javascript" charset="utf-8" src="stage.js"></script>
<script type="text/javascript" charset="utf-8" src="chapter.js"></script>
<script type="text/javascript" charset="utf-8" src="scene.js"></script>
<script type="text/javascript" charset="utf-8" src="assets.js"></script>
<script type="text/javascript" charset="utf-8" src="event.js"></script>

<script type="text/javascript" charset="utf-8">
var stage;



function start() {
	stage.start();
}

Ext.onReady(function() {
	
/*
var stage = new f.Stage().width(1000).height(600).script({
	chapter()
	asset()
	scene()
	at()
	
	chapter()
});
*/

stage = new f.Stage({width: 1022, height:600});

	with(stage) {

		with(chapter("First Chapter")) {
			asset({ name: "bg", type: "image", src: "background.jpg"});
			asset({ name: "logo1", type: "image", src: "http://flowz.com/images/logo-84.png" });
			asset({ name: "logo2", type: "image", src: "http://flowz.com/images/logo-84.png" });
			asset({ name: "chapter-title", type: "html", markup: { tag: 'h1', html: "Chapter 1", style: "position: absolute; z-index: 10" } });
			asset({ name: "boarding.mp3", type: "audio", src: "sounds/boarding.mp3" });
			asset({ name: "prompt", type: "html", markup: { tag: 'h2', html: "You should hear background audio now.", style: "position: absolute; z-index: 10"} });
			
			//asset({ type: "html", })
			
			with(scene("First scene.").voiceover("boarding.mp3")) {
				
				
				at("0:00").asset("bg").zindex(1).fadeIn().position(0, 0);
				at("0:00").asset("chapter-title").zindex(20).fadeIn().position(10, 10);
				
				at("0:00").asset("prompt").update("Scene 1");
				at("0:00").asset("prompt").zindex(20).fadeIn().position(10, 100);
				
				
				//at("0:00").asset("boarding.mp3").play();
				at("0:01").asset("logo1").slideInFromTop(100,300);
				at("0:02").asset("logo1").fadeOut();
				
				at("0:04").asset("prompt").update("Now next scene...");
			}

			//with(scene("First scene.").voiceover(0)) {
			with(scene("Second scene.").duration(5)) {
				at("0:00").asset("prompt").update("Scene 2");
				//at("0:00").asset(0).position(100, 100).fadeIn();
				//at("0:00").asset(0).zindex(1).fadeIn().position(0, 0);
				at("0:00").asset(3).zindex(20).fadeIn().position(10, 10);
				at("0:00").asset(4).play();
				at("0:01").asset(1).slideInFromTop(100,300);
				at("0:02").asset(1).fadeOut();
				at("0:04").asset(5).update("Now, next chapter.");
			}
		}
		with(chapter("Second Chapter")) {
			asset({ type: "image", src: "background2.jpg"});
			asset({ type: "html", markup: { tag: 'h1', html: "Chapter 2", style: "position: absolute; z-index: 10" } });
			asset({ type: "html", markup: { tag: 'h1', html: "BOOYAH!", style: "position: absolute; z-index: 10"} });
			asset({ type: "image", src: "http://flowz.com/images/logo-84.png" });
			asset({ type: "audio", src: "sounds/drop.mp3" });
			//asset({ type: "html", })

			//with(scene("First scene.").voiceover(0)) {
			with(scene("First scene.").duration(5)) {
				//at("0:00").asset(0).position(100, 100).fadeIn();
				at("0:00").asset(0).zindex(0).fadeIn().position(0, 0);
				at("0:00").asset(1).fadeIn().position(10, 10);
				at("0:01").asset(4).play();
				at("0:02").asset(4).play();
				at("0:02").asset(3).fadeIn().position(50, 200);
				at("0:03").asset(2).fadeIn().position(50, 100);
				at("0:03").asset(4).play();
				/*
				at("0:02").asset(0).fadeIn();
				at("0:03").asset(0).fadeOut();
				at("0:04").asset(0).fadeIn();
				at("0:05").asset(0).fadeOut();
				at("0:06").asset(0).fadeIn();
				at("0:07").asset(0).slideOutToBottom();
				at("0:10").asset(1).fadeIn().position(400,250);
				at("0:11").asset(1).fadeOut();
				at("0:12").asset(1).fadeIn().slideTo(100, 100);
				*/
				/*
				at("0:01").asset(0).fadeOut();
				at("0:02").asset(0).fadeIn();
				at("0:03").asset(0).fadeOut();
				at("0:04").asset(0).fadeIn();
				at("0:05").asset(0).fadeOut();
				*/
			}
		}
	}

});
</script>
</body>
</html>
